import random
def draw(x):
    drawn = []
    card_values = [2, 3, 4, 5, 6, 7, 8, 9, 10, 11] # 11 represents Ace
    weight = [4, 4, 4, 4, 4, 4, 4, 4, 16, 4] # Adjusted weights for card frequency
    for _ in range(x):
        card = random.choices(card_values, weights=weight, k=1) # Draw a random card based on weights
        drawn.append(card[0])
    return drawn
reiterated = []
def print_hand(hand):
    n = -1
    fullhand = hand.copy()
    for i in fullhand:
        if i == 10:
            if len(reiterated) > 0:
                fullhand[fullhand.index(i)] = reiterated[n]
                n += 1
            else:
                options = [10, 'J', 'Q', 'K']
                face_card = random.choice(options)
                fullhand[fullhand.index(i)] = face_card
                reiterated.append(face_card)
        elif i == 11 or i == 1:
            fullhand[fullhand.index(i)] = "A"
    fullhand = str(fullhand)
    for i in fullhand:
        if i == "[" or i == "]" or i == "," or i == "'":
            fullhand = fullhand.replace(i, "")
    return fullhand
game_over = 0
hand = draw(2)
dealer = draw(1)
print("Dealer's hand:", print_hand(dealer), "and a hidden card")
print("Your hand:", print_hand(hand))
while game_over == 0:
    try:
        hand_sum = sum(hand)
        dealer_sum = sum(dealer)
        if hand_sum > 21:
            if 11 in hand:
                hand[hand.index(11)] = 1
                hand_sum = sum(hand)
                continue
            else:
                print("Bust. You have exceeded 21.")
                break
        play = input("Hit or stand\n").strip().lower()
        if play == "hit":
            print("You chose to hit. Drawing a card...")
            new_card = draw(1)
            hand.append(new_card[0])
            print("Your new hand:", print_hand(hand))
        elif play == "stand":
            print("You chose to stand.")
            new_card = draw(1)
            dealer.append(new_card[0])
            print("Dealer's hand:", print_hand(dealer))
            while dealer_sum <= 21:
                hand_sum = sum(hand)
                dealer_sum = sum(dealer)
                if dealer_sum < hand_sum:
                    print("Dealer draws a card...")
                    new_card = draw(1)
                    dealer.append(new_card[0])
                    print("Dealer's hand:", print_hand(dealer))
                    dealer_sum = sum(dealer)
                elif dealer_sum > hand_sum and dealer_sum <= 21:
                    print("Dealer wins with", dealer_sum, "against your", hand_sum)
                    game_over = 1
                    break
                elif dealer_sum == hand_sum:
                    print("It's a tie at", hand_sum)
                    exit = 1
                    break
            else:
                print("Dealer busts. You win!")
                exit = 1
                break
        else:
            print("Invalid input. Please type 'hit' or 'stand'.")
    except ValueError:
        print("Invalid input. Please type 'hit' or 'stand'.")
        continue